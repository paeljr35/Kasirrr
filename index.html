<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rizki Resto - Dashboard</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f6f9;
    }

    /* ===== Login ===== */
    #loginPage {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: linear-gradient(#fff8dc, #fff);
    }
    .login-box {
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      width: 300px;
      text-align: center;
    }
    .login-box h2 { margin-bottom: 20px; }
    .login-box input {
      width: 100%; padding: 10px; margin: 8px 0;
      border: 1px solid #ccc; border-radius: 5px;
    }
    .login-box .btn {
      width: 100%; padding: 10px;
      background: #3498db; border: none; color: #fff;
      border-radius: 5px; cursor: pointer;
    }
    .login-box .btn:hover { background: #2980b9; }
    .error { color: red; margin-top: 10px; font-size: 14px; }

    /* ===== Layout Dashboard ===== */
    #dashboard { display: none; height: 100vh; }

    .sidebar {
      width: 220px;
      background: #2c3e50;
      color: #fff;
      height: 100%;
      position: fixed;
      top: 0; left: 0;
      padding-top: 20px;
    }
    .sidebar h2 { text-align: center; margin-bottom: 20px; }
    .sidebar ul { list-style: none; padding: 0; }
    .sidebar ul li {
      padding: 12px 20px; cursor: pointer;
    }
    .sidebar ul li:hover { background: #34495e; }

    .header {
      margin-left: 220px;
      padding: 15px;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .main {
      margin-left: 220px;
      padding: 20px;
      overflow-y: auto;
      height: calc(100vh - 60px);
    }

    /* ===== Menu Grid ===== */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-top: 20px;
    }
    .menu-item {
      background: #fff;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
    }
    .menu-item img {
      width: 100%; height: 120px;
      object-fit: cover; border-radius: 6px;
    }

    /* ===== Cart & Struk ===== */
    .cart {
      margin-top: 30px;
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }
    .cart .total {
      margin-top: 10px;
      font-weight: bold;
      text-align: right;
    }
    .btn {
      background: #3498db; color: #fff;
      border: none; padding: 8px 12px;
      border-radius: 5px; cursor: pointer;
    }
    .btn:hover { background: #2980b9; }

    /* Struk */
    .receipt {
      margin-top: 20px;
      padding: 15px;
      border: 1px dashed #333;
      border-radius: 8px;
      background: #fafafa;
    }
    .receipt h4 { margin: 0 0 10px; text-align: center; }
    .receipt table {
      width: 100%; border-collapse: collapse; margin-bottom: 10px;
    }
    .receipt table td {
      padding: 5px; border-bottom: 1px solid #ddd; font-size: 14px;
    }
    .receipt .total { font-weight: bold; text-align: right; }
    .receipt .thanks { text-align: center; margin-top: 10px; font-style: italic; }
  </style>
</head>
<body>

  <!-- ===== LOGIN PAGE ===== -->
  <div id="loginPage">
    <div class="login-box">
      <h2>Login Admin</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button class="btn" onclick="login()">Login</button>
      <p class="error" id="errorMsg"></p>
    </div>
  </div>

  <!-- ===== DASHBOARD ===== -->
  <div id="dashboard">
    <!-- Sidebar -->
    <div class="sidebar">
      <h2>Rizki Resto</h2>
      <ul>
        <li>Dashboard</li>
        <li>Pesanan Baru</li>
        <li>Laporan</li>
        <li onclick="logout()">Logout</li>
      </ul>
    </div>

    <!-- Header -->
    <div class="header">
  <h3>Menu Makanan & Minuman</h3>
  <div style="text-align:right;">
    <p style="margin:0; font-weight:bold;">üìç Jl. Merdeka No. 123, Bandung</p>
    <p id="tanggalSekarang" style="margin:0; font-size:14px; color:#555;"></p>
    <span>Hi, Everyone</span>
  </div>
</div>

    <!-- Main -->
    <div class="main">
      <h2>Ô∏èüçõ Menu Makanan</h2>
      <div class="menu-grid" id="makananList"></div>

      <h2>ü•§ Menu Minuman</h2>
      <div class="menu-grid" id="minumanList"></div>

      <!-- Keranjang -->
      <div class="cart" id="cartSection" style="display:none;">
        <h3>Keranjang Belanja</h3>
        <div id="cartItems"></div>
        <div class="total">Total: Rp <span id="totalPrice">0</span></div>

        <div class="payment">
          <p>Pilih Metode Pembayaran:</p>
          <button class="btn" onclick="bayar('qris')">QRIS</button>
          <button class="btn" onclick="bayar('cash')">Tunai</button>
        </div>

        <!-- QRIS -->
        <div id="qrisSection" style="display:none;">
          <p>Scan QRIS untuk bayar:</p>
          <div id="qrcode"></div>
          <p id="qrisText"></p>
        </div>

        <!-- Cash -->
        <div id="cashSection" style="display:none;">
          <p>Status: <span id="cashStatus">Menunggu pembayaran...</span></p>
          <button class="btn" onclick="konfirmasiCash()">Konfirmasi Bayar</button>
          <div id="receiptSection"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- QRCode JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
    // ===== Login =====
    const ADMIN_USER = "admin";
    const ADMIN_PASS = "1234";

    function login() {
      let user = document.getElementById("username").value;
      let pass = document.getElementById("password").value;
      let errorMsg = document.getElementById("errorMsg");

      if(user === ADMIN_USER && pass === ADMIN_PASS){
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("dashboard").style.display = "block";
      } else {
        errorMsg.innerText = "Username atau password salah!";
      }
    }

    function logout(){
      document.getElementById("dashboard").style.display = "none";
      document.getElementById("loginPage").style.display = "flex";
      document.getElementById("username").value = "";
      document.getElementById("password").value = "";
      document.getElementById("errorMsg").innerText = "";
    }
    // ===== Tanggal otomatis di header =====
function tampilkanTanggal(){
  let today = new Date();
  let tanggal = today.toLocaleDateString("id-ID", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  });
  let tglElem = document.getElementById("tanggalSekarang");
  if(tglElem){
    tglElem.textContent = tanggal;
  }

    // ===== Menu Data =====
    const makanan = [
      {nama:"Keredok", harga:10500, img:"https://www.primarasa.co.id/images/images/karedok.jpg"},
      {nama:"Seblak", harga:11000, img:"https://statics.indozone.news/local/62b5aa9d6a65b.jpg"},
      {nama:"Tutug Oncom", harga:11500, img:"https://ecs7.tokopedia.net/blog-tokopedia-com/uploads/2018/11/2.-Abon-Tutug-Oncom-Pedas.jpeg"},
      {nama:"Serabi", harga:12000, img:"https://assets.pikiran-rakyat.com/crop/0x0:0x0/x/photo/2022/09/05/1659506337.jpg"},
      {nama:"Mie Kocok", harga:12500, img:"https://www.sasa.co.id/medias/page_medias/16233298771587482352842369.jpg"},
      {nama:"Bandros", harga:13000, img:"https://www.gotravelly.com/blog/wp-content/uploads/2023/09/bandros.jpg"},
      {nama:"Colenak", harga:13500, img:"https://assets.pikiran-rakyat.com/crop/0x0:0x0/x/photo/2022/02/10/945447286.jpg"},
      {nama:"Lotek", harga:14000, img:"https://www.baconismagic.ca/wp-content/uploads/2023/11/lotek.jpg"},
      {nama:"Kupat Tahu", harga:14500, img:"https://www.primarasa.co.id/images/images/Kupat%20Tahu%20-%20Resep(1).jpg"},
      {nama:"Batagor", harga:15000, img:"https://thegorbalsla.com/wp-content/uploads/2019/05/Resep-Batagor.jpg"},
      {nama:"Gehu Pedas", harga:15500, img:"https://assets.jabarekspres.com/main/2024/03/Gehu-Pedas.webp"},
      {nama:"Tahu Genjrot", harga:16000, img:"https://www.sajianlezat.com/media/image/bubur-sepinggan/tahu-gejrot__wm__.jpg"},
      {nama:"Dodol", harga:16500, img:"https://www.rumahmesin.com/wp-content/uploads/2020/08/Resep-Dodol-Jagung.jpg?x57460"},
      {nama:"Nasi Jamblang", harga:17000, img:"https://cdn-1.timesmedia.co.id/images/2023/06/03/Nasi-Jamblang-3.jpg"},
      {nama:"Tape Ketan", harga:17500, img:"https://www.resepkekinian.com/wp-content/uploads/2020/05/Tape-Ketan-Hitam.jpg"},
      {nama:"Cilok", harga:18000, img:"https://whattocooktoday.com/wp-content/uploads/2020/11/cilok-20-1024x1536.jpg"},
      {nama:"Sate Maranngi", harga:18500, img:"https://www.dapurkobe.co.id/wp-content/uploads/sate-maranggi.jpg"},
      {nama:"Cilok", harga:19000, img:"https://i.pinimg.com/originals/6a/b6/48/6ab648e446b78426f0c81c907bcbc11f.jpg"},
      {nama:"Cireng", harga:19500, img:"https://bolulembang.co.id/wp-content/uploads/2022/12/SEJARAH-CIRENG.jpg"},
      {nama:"Nasi Goreng", harga:20000, img:"https://www.kitchensanctuary.com/wp-content/uploads/2020/07/Nasi-Goreng-square-FS-57.jpg"},
      {nama:"Nasi Uduk", harga:20500, img:"https://www.rumahmesin.com/wp-content/uploads/2018/12/nasi-uduk-komplit.jpg"},
      {nama:"Doclang", harga:21000, img:"https://sgp1.digitaloceanspaces.com/radarbogor/2019/11/doclang.jpg"},
      {nama:"Leupeut", harga:21500, img:"https://www.shutterstock.com/image-photo/lepet-leupeut-indonesian-traditional-food-260nw-1783833716.jpg"},
      {nama:"Rendang", harga:22000, img:"https://www.chilipeppermadness.com/wp-content/uploads/2024/02/Rendang-Recipe-SQ.jpg"},
      {nama:"Empal Gentong", harga:22500, img:"https://getlost.id/wp-content/uploads/2020/09/empal-gentong_1103464622.jpg"}
    ];

    const minuman = [
      {nama:"Minuman 1", harga:5300, img:"https://via.placeholder.com/200x120?text=Minuman+1"},
      {nama:"Minuman 2", harga:5600, img:"https://via.placeholder.com/200x120?text=Minuman+2"},
      {nama:"Minuman 3", harga:5900, img:"https://via.placeholder.com/200x120?text=Minuman+3"},
      {nama:"Minuman 4", harga:6200, img:"https://via.placeholder.com/200x120?text=Minuman+4"},
      {nama:"Minuman 5", harga:6500, img:"https://via.placeholder.com/200x120?text=Minuman+5"},
      {nama:"Minuman 6", harga:6800, img:"https://via.placeholder.com/200x120?text=Minuman+6"},
      {nama:"Minuman 7", harga:7100, img:"https://via.placeholder.com/200x120?text=Minuman+7"},
      {nama:"Minuman 8", harga:7400, img:"https://via.placeholder.com/200x120?text=Minuman+8"},
      {nama:"Minuman 9", harga:7700, img:"https://via.placeholder.com/200x120?text=Minuman+9"},
      {nama:"Minuman 10", harga:8000, img:"https://via.placeholder.com/200x120?text=Minuman+10"},
      {nama:"Minuman 11", harga:8300, img:"https://via.placeholder.com/200x120?text=Minuman+11"},
      {nama:"Minuman 12", harga:8600, img:"https://via.placeholder.com/200x120?text=Minuman+12"},
      {nama:"Minuman 13", harga:8900, img:"https://via.placeholder.com/200x120?text=Minuman+13"},
      {nama:"Minuman 14", harga:9200, img:"https://via.placeholder.com/200x120?text=Minuman+14"},
      {nama:"Minuman 15", harga:9500, img:"https://via.placeholder.com/200x120?text=Minuman+15"},
      {nama:"Minuman 16", harga:9800, img:"https://via.placeholder.com/200x120?text=Minuman+16"},
      {nama:"Minuman 17", harga:10100, img:"https://via.placeholder.com/200x120?text=Minuman+17"},
      {nama:"Minuman 18", harga:10400, img:"https://via.placeholder.com/200x120?text=Minuman+18"},
      {nama:"Minuman 19", harga:10700, img:"https://via.placeholder.com/200x120?text=Minuman+19"},
      {nama:"Minuman 20", harga:11000, img:"https://via.placeholder.com/200x120?text=Minuman+20"},
      {nama:"Minuman 21", harga:11300, img:"https://via.placeholder.com/200x120?text=Minuman+21"},
      {nama:"Minuman 22", harga:11600, img:"https://via.placeholder.com/200x120?text=Minuman+22"},
      {nama:"Minuman 23", harga:11900, img:"https://via.placeholder.com/200x120?text=Minuman+23"},
      {nama:"Minuman 24", harga:12200, img:"https://via.placeholder.com/200x120?text=Minuman+24"},
      {nama:"Minuman 25", harga:12500, img:"https://via.placeholder.com/200x120?text=Minuman+25"}
    ];

    const makananList = document.getElementById("makananList");
    const minumanList = document.getElementById("minumanList");
    const cartItems = document.getElementById("cartItems");
    const totalPrice = document.getElementById("totalPrice");
    const cartSection = document.getElementById("cartSection");
    let cart = [];
    let total = 0;

    // Tampilkan makanan
    makanan.forEach((m, i) => {
      let div = document.createElement("div");
      div.classList.add("menu-item");
      div.innerHTML = `
        <img src="${m.img}" alt="${m.nama}">
        <h4>${m.nama}</h4>
        <p>Rp ${m.harga.toLocaleString()}</p>
        <button class="btn" onclick="addToCart('makanan',${i})">Pesan</button>
      `;
      makananList.appendChild(div);
    });

    // Tampilkan minuman
    minuman.forEach((m, i) => {
      let div = document.createElement("div");
      div.classList.add("menu-item");
      div.innerHTML = `
        <img src="${m.img}" alt="${m.nama}">
        <h4>${m.nama}</h4>
        <p>Rp ${m.harga.toLocaleString()}</p>
        <button class="btn" onclick="addToCart('minuman',${i})">Pesan</button>
      `;
      minumanList.appendChild(div);
    });

    function addToCart(type, i) {
      let item = type === 'makanan' ? makanan[i] : minuman[i];
      cart.push({...item, type});
      total += item.harga;
      cartSection.style.display = "block";
      renderCart();
    }

    function renderCart() {
      cartItems.innerHTML = "";
      cart.forEach((item) => {
        let div = document.createElement("div");
        div.classList.add("cart-item");
        div.innerHTML = `<p>${item.nama} - Rp ${item.harga.toLocaleString()}</p>`;
        cartItems.appendChild(div);
      });
      totalPrice.innerText = total.toLocaleString();
    }

    // ===== Pembayaran =====
    function bayar(method){
      if(method === 'qris'){
        document.getElementById("qrisSection").style.display = "block";
        document.getElementById("cashSection").style.display = "none";
        document.getElementById("qrcode").innerHTML = "";
        new QRCode(document.getElementById("qrcode"), {
          text: "Pembayaran QRIS Rp " + total,
          width: 150,
          height: 150
        });
        document.getElementById("qrisText").innerText = "Total bayar Rp " + total.toLocaleString();
      } else {
        document.getElementById("cashSection").style.display = "block";
        document.getElementById("qrisSection").style.display = "none";
      }
    }

    function konfirmasiCash(){
      document.getElementById("cashStatus").innerText = "Pembayaran berhasil!";
      tampilkanStruk();
    }

// ===== Struk =====
function tampilkanStruk(){
  let receipt = document.createElement("div");
  receipt.classList.add("receipt");

  // Ambil tanggal sekarang
  let today = new Date();
  let tanggal = today.toLocaleDateString("id-ID", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  });

  // Hitung pajak 10%
  let pajak = total * 0.1;
  let grandTotal = total + pajak;

  let isi = `
    <h4>üßæ Rizki Resto</h4>
    <p style="text-align:center; font-size:13px;">
      üìç Jl. Merdeka No. 123, Bandung <br>
      üìÖ ${tanggal}
    </p>
    <table>
      <tr><td><b>Item</b></td><td><b>Harga</b></td></tr>
  `;

  cart.forEach(item => {
    isi += `<tr><td>${item.nama}</td><td>Rp ${item.harga.toLocaleString()}</td></tr>`;
  });

  isi += `
    </table>
    <p class="total">Subtotal: Rp ${total.toLocaleString()}</p>
    <p class="total">Pajak (10%): Rp ${pajak.toLocaleString()}</p>
    <p class="total">Grand Total: Rp ${grandTotal.toLocaleString()}</p>
    <p class="thanks">Terima kasih telah berbelanja di toko kami üôè</p>
  `;

  receipt.innerHTML = isi;
  document.getElementById("receiptSection").innerHTML = "";
  document.getElementById("receiptSection").appendChild(receipt);

  // Reset keranjang
  cart = [];
  total = 0;
  renderCart();
}
  </script>
</body>
</html>
